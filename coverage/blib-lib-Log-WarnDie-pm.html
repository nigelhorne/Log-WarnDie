<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::Cover Version 1.51
Devel::Cover is copyright 2001-2025, Paul Johnson (paul@pjcj.net)
Devel::Cover is free. It is licensed under the same terms as Perl itself.
The latest version of Devel::Cover should be available from my homepage:
https://pjcj.net
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
    <meta http-equiv="Content-Language" content="en-us"></meta>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <title>File Coverage: blib/lib/Log/WarnDie.pm</title>
</head>
<body>
<h1>File Coverage</h1>
<table>
<tr><td class="h" align="right">File:</td><td align="left">blib/lib/Log/WarnDie.pm</td></tr>
<tr><td class="h" align="right">Coverage:</td><td align="left" class="c0">58.8%</td></tr>
</table>
<div><br/></div>
<table>
<tr><th>line</th><th>stmt</th><th>bran</th><th>cond</th><th>sub</th><th>time</th><th>code</th></tr>
<tr><td class="h">1</td><td></td><td></td><td></td><td></td><td></td><td class="s">package Log::WarnDie;</td></tr>
<tr><td class="h">2</td><td colspan="6"></td></tr><tr><td class="h">3</td><td><div class="c3">4</div><div class="c3">4</div><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Log-WarnDie-pm--subroutine.html#L3">4</a></div></td><td><div>457139</div><div>4</div><div>83</div></td><td class="s">use warnings;</td></tr>
<tr><td class="h">4</td><td><div class="c3">4</div><div class="c3">4</div><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Log-WarnDie-pm--subroutine.html#L4">4</a></div></td><td><div>9</div><div>3</div><div>37</div></td><td class="s">use strict;</td></tr>
<tr><td class="h">5</td><td colspan="6"></td></tr><tr><td class="h">6</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Make sure we have the modules that we need</td></tr>
<tr><td class="h">7</td><td colspan="6"></td></tr><tr><td class="h">8</td><td><div class="c3">4</div><div class="c3">4</div><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Log-WarnDie-pm--subroutine.html#L8">4</a></div></td><td><div>886</div><div>9955</div><div>51</div></td><td class="s">use IO::Handle ();</td></tr>
<tr><td class="h">9</td><td><div class="c3">4</div><div class="c3">4</div><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Log-WarnDie-pm--subroutine.html#L9">4</a></div></td><td><div>8</div><div>4</div><div>1556</div></td><td class="s">use Scalar::Util qw(blessed);</td></tr>
<tr><td class="h">10</td><td colspan="6"></td></tr><tr><td class="h">11</td><td></td><td></td><td></td><td></td><td></td><td class="s"># The logging dispatcher that should be used</td></tr>
<tr><td class="h">12</td><td></td><td></td><td></td><td></td><td></td><td class="s"># The (original) error output handle</td></tr>
<tr><td class="h">13</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Reference to the previous parameters sent</td></tr>
<tr><td class="h">14</td><td colspan="6"></td></tr><tr><td class="h">15</td><td></td><td></td><td></td><td></td><td></td><td class="s">our $DISPATCHER;</td></tr>
<tr><td class="h">16</td><td></td><td></td><td></td><td></td><td></td><td class="s">our $FILTER;</td></tr>
<tr><td class="h">17</td><td></td><td></td><td></td><td></td><td></td><td class="s">our $STDERR;</td></tr>
<tr><td class="h">18</td><td></td><td></td><td></td><td></td><td></td><td class="s">our $LAST;</td></tr>
<tr><td class="h">19</td><td colspan="6"></td></tr><tr><td class="h">20</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Old settings of standard Perl logging mechanisms</td></tr>
<tr><td class="h">21</td><td colspan="6"></td></tr><tr><td class="h">22</td><td></td><td></td><td></td><td></td><td></td><td class="s">our $WARN;</td></tr>
<tr><td class="h">23</td><td></td><td></td><td></td><td></td><td></td><td class="s">our $DIE;</td></tr>
<tr><td class="h">24</td><td colspan="6"></td></tr><tr><td class="h">25</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Handle the situation when the logger you hand to Log::WarnDie is (directly or indirectly) writing to STDERR, which this module has tied.</td></tr>
<tr><td class="h">26</td><td></td><td></td><td></td><td></td><td></td><td class="s"># That causes the tied PRINT/PRINTF/__WARN__ handler to call the dispatcher again which writes to STDERR and you end up with deep recursion</td></tr>
<tr><td class="h">27</td><td></td><td></td><td></td><td></td><td></td><td class="s">our $IN_LOG;&nbsp;&nbsp;&nbsp;&nbsp;# false normally, true while we&#39;re inside a logging call</td></tr>
<tr><td class="h">28</td><td colspan="6"></td></tr><tr><td class="h">29 - 101</td><td colspan="5"></td><td class="s"><pre>=head1 NAME

Log::WarnDie - Log standard Perl warnings and errors on a log handler

=head1 VERSION

Version 0.12

=head1 SYNOPSIS

&nbsp;&nbsp;&nbsp;&nbsp;use Log::WarnDie; # install to be used later
&nbsp;&nbsp;&nbsp;&nbsp;use Log::Dispatch;
&nbsp;&nbsp;&nbsp;&nbsp;use Log::Dispatch::Email::Sendmail;

&nbsp;&nbsp;&nbsp;&nbsp;my $dispatcher = Log::Dispatch-&gt;new();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# can be any dispatcher!
&nbsp;&nbsp;&nbsp;&nbsp;$dispatcher-&gt;add( Log::Dispatch::Email::Sendmail-&gt;new( # whatever output you like
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; &#39;foo&#39;,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;min_level =&gt; &#39;info&#39;,
&nbsp;&nbsp;&nbsp;&nbsp;) );

&nbsp;&nbsp;&nbsp;&nbsp;use Log::WarnDie $dispatcher; # activate later

&nbsp;&nbsp;&nbsp;&nbsp;Log::WarnDie-&gt;dispatcher( $dispatcher ); # same

&nbsp;&nbsp;&nbsp;&nbsp;warn &quot;This is a warning&quot;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# now also dispatched
&nbsp;&nbsp;&nbsp;&nbsp;die &quot;Sorry it didn&#39;t work out&quot;; # now also dispatched

&nbsp;&nbsp;&nbsp;&nbsp;Log::WarnDie-&gt;dispatcher(undef); # deactivate

&nbsp;&nbsp;&nbsp;&nbsp;Log::WarnDie-&gt;filter(\&amp;filter);
&nbsp;&nbsp;&nbsp;&nbsp;warn &quot;This is a warning&quot;; # no longer dispatched
&nbsp;&nbsp;&nbsp;&nbsp;die &quot;Sorry it didn&#39;t work out&quot;; # no longer dispatched

&nbsp;&nbsp;&nbsp;&nbsp;# Filter out File::stat noise
&nbsp;&nbsp;&nbsp;&nbsp;sub filter {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0 if($_[0] != /^S_IFFIFO is not a valid Fcntl macro/);
&nbsp;&nbsp;&nbsp;&nbsp;}

=head1 DESCRIPTION

The C&lt;Log::WarnDie&gt; module offers a logging alternative for standard
Perl core functions.&nbsp;&nbsp;This allows you to use the features of e.g.
L&lt;Log::Dispatch&gt;, L&lt;Log::Any&gt; or L&lt;Log::Log4perl&gt; B&lt;without&gt; having to make extensive
changes to your source code.

When loaded, it installs a __WARN__ and __DIE__ handler and intercepts any
output to STDERR.&nbsp;&nbsp;It also takes over the messaging functions of L&lt;Carp&gt;.
Without being further activated, the standard Perl logging functions continue
to be executed: e.g. if you expect warnings to appear on STDERR, they will.

Then, when necessary, you can activate actual logging through e.g.
Log::Dispatch by installing a log dispatcher.&nbsp;&nbsp;From then on, any warn, die,
carp, croak, cluck, confess or print to the STDERR handle,&nbsp;&nbsp;will be logged
using the Log::Dispatch logging dispatcher.&nbsp;&nbsp;Logging can be disabled and
enabled at any time for critical sections of code.

The following log levels are used:

=head2 warning

Any C&lt;warn&gt;, C&lt;Carp::carp&gt; or C&lt;Carp::cluck&gt; will generate a &quot;warning&quot; level
message.

=head2 error

Any direct output to STDERR will generate an &quot;error&quot; level message.

=head2 critical

Any C&lt;die&gt;, C&lt;Carp::croak&gt; or C&lt;Carp::confess&gt; will generate a &quot;critical&quot;
level message.

=cut</pre></td></tr>
<tr><td class="h">102</td><td colspan="6"></td></tr><tr><td class="h">103</td><td></td><td></td><td></td><td></td><td></td><td class="s">our $VERSION = &#39;0.12&#39;;</td></tr>
<tr><td class="h">104</td><td colspan="6"></td></tr><tr><td class="h">105 - 107</td><td colspan="5"></td><td class="s"><pre>=head1 SUBROUTINES/METHODS

=cut</pre></td></tr>
<tr><td class="h">108</td><td colspan="6"></td></tr><tr><td class="h">109</td><td></td><td></td><td></td><td></td><td></td><td class="s">#---------------------------------------------------------------------------</td></tr>
<tr><td class="h">110</td><td colspan="6"></td></tr><tr><td class="h">111</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Tie subroutines need to be known at compile time, hence there here, near</td></tr>
<tr><td class="h">112</td><td></td><td></td><td></td><td></td><td></td><td class="s"># the start of code rather than near the end where these would normally live.</td></tr>
<tr><td class="h">113</td><td colspan="6"></td></tr><tr><td class="h">114</td><td></td><td></td><td></td><td></td><td></td><td class="s">#---------------------------------------------------------------------------</td></tr>
<tr><td class="h">115</td><td></td><td></td><td></td><td></td><td></td><td class="s"># TIEHANDLE</td></tr>
<tr><td class="h">116</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">117</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Called whenever a dispatcher is activated</td></tr>
<tr><td class="h">118</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">119</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;IN: 1 class with which to bless</td></tr>
<tr><td class="h">120</td><td></td><td></td><td></td><td></td><td></td><td class="s"># OUT: 1 blessed object</td></tr>
<tr><td class="h">121</td><td colspan="6"></td></tr><tr><td class="h">122</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Log-WarnDie-pm--subroutine.html#L122">4</a></div></td><td><div>7</div></td><td class="s">sub TIEHANDLE { bless \&quot;$_[0]&quot;,$_[0] } #TIEHANDLE</td></tr>
<tr><td class="h">123</td><td colspan="6"></td></tr><tr><td class="h">124</td><td></td><td></td><td></td><td></td><td></td><td class="s">#---------------------------------------------------------------------------</td></tr>
<tr><td class="h">125</td><td></td><td></td><td></td><td></td><td></td><td class="s"># PRINT</td></tr>
<tr><td class="h">126</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">127</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Called whenever something is printed on STDERR</td></tr>
<tr><td class="h">128</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">129</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;IN: 1 blessed object returned by TIEHANDLE</td></tr>
<tr><td class="h">130</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2..N whatever was needed to be printed</td></tr>
<tr><td class="h">131</td><td colspan="6"></td></tr><tr><td class="h">132</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub PRINT</td></tr>
<tr><td class="h">133</td><td></td><td></td><td></td><td></td><td></td><td class="s">{</td></tr>
<tr><td class="h">134</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Lose the object</td></tr>
<tr><td class="h">135</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# If there is a dispatcher</td></tr>
<tr><td class="h">136</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Put it in the log handler if not the same as last time</td></tr>
<tr><td class="h">137</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Reset the flag</td></tr>
<tr><td class="h">138</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Make sure it appears on the original STDERR as well</td></tr>
<tr><td class="h">139</td><td colspan="6"></td></tr><tr><td class="h">140</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-Log-WarnDie-pm--branch.html#L140">50</a></div></td><td></td><td><div class="c3"><a href="blib-lib-Log-WarnDie-pm--subroutine.html#L140">4</a></div></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return if $IN_LOG;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# prevents re-entry</td></tr>
<tr><td class="h">141</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shift;</td></tr>
<tr><td class="h">142</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Log-WarnDie-pm--branch.html#L142">100</a></div></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($FILTER) {</td></tr>
<tr><td class="h">143</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="blib-lib-Log-WarnDie-pm--branch.html#L143">50</a></div></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return if($FILTER-&gt;(@_) == 0);</td></tr>
<tr><td class="h">144</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">145</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Log-WarnDie-pm--branch.html#L145">100</a></div></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($DISPATCHER) {</td></tr>
<tr><td class="h">146</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Prevent deep recursion</td></tr>
<tr><td class="h">147</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local $IN_LOG = 1;</td></tr>
<tr><td class="h">148</td><td><div class="c3">3</div></td><td><div class="c0" title="-/F"><a href="blib-lib-Log-WarnDie-pm--branch.html#L148">50</a></div></td><td><div class="c0"><a href="blib-lib-Log-WarnDie-pm--condition.html#L148">50</a></div></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DISPATCHER-&gt;error( @_ ) unless $LAST and @$LAST == @_ and join( &#39;&#39;,@$LAST ) eq join( &#39;&#39;,@_ );</td></tr>
<tr><td class="h">149</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>48</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;undef $LAST;</td></tr>
<tr><td class="h">150</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">151</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-Log-WarnDie-pm--branch.html#L151">50</a></div></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($STDERR) {</td></tr>
<tr><td class="h">152</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>22</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print $STDERR @_;</td></tr>
<tr><td class="h">153</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">154</td><td></td><td></td><td></td><td></td><td></td><td class="s">} #PRINT</td></tr>
<tr><td class="h">155</td><td colspan="6"></td></tr><tr><td class="h">156</td><td></td><td></td><td></td><td></td><td></td><td class="s">#---------------------------------------------------------------------------</td></tr>
<tr><td class="h">157</td><td></td><td></td><td></td><td></td><td></td><td class="s"># PRINTF</td></tr>
<tr><td class="h">158</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">159</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Called whenever something is printed on STDERR using printf</td></tr>
<tr><td class="h">160</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">161</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;IN: 1 blessed object returned by TIEHANDLE</td></tr>
<tr><td class="h">162</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2..N whatever was needed to be printed</td></tr>
<tr><td class="h">163</td><td colspan="6"></td></tr><tr><td class="h">164</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub PRINTF {</td></tr>
<tr><td class="h">165</td><td colspan="6"></td></tr><tr><td class="h">166</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Lose the object</td></tr>
<tr><td class="h">167</td><td></td><td></td><td></td><td></td><td></td><td class="s"># If there is a dispatcher</td></tr>
<tr><td class="h">168</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;Put it in the log handler if not the same as last time</td></tr>
<tr><td class="h">169</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;Reset the flag</td></tr>
<tr><td class="h">170</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Make sure it appears on the original STDERR as well</td></tr>
<tr><td class="h">171</td><td colspan="6"></td></tr><tr><td class="h">172</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="blib-lib-Log-WarnDie-pm--branch.html#L172">50</a></div></td><td></td><td><div class="c3"><a href="blib-lib-Log-WarnDie-pm--subroutine.html#L172">1</a></div></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return if $IN_LOG;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# prevents re-entry</td></tr>
<tr><td class="h">173</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shift;</td></tr>
<tr><td class="h">174</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $format = shift;</td></tr>
<tr><td class="h">175</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @args = @_;</td></tr>
<tr><td class="h">176</td><td><div class="c3">1</div></td><td><div class="c0" title="T/-"><a href="blib-lib-Log-WarnDie-pm--branch.html#L176">50</a></div></td><td></td><td></td><td><div>35</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return if(scalar(@args) == 0);</td></tr>
<tr><td class="h">177</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-Log-WarnDie-pm--branch.html#L177">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($FILTER) {</td></tr>
<tr><td class="h">178</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-Log-WarnDie-pm--branch.html#L178">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return if($FILTER-&gt;(sprintf($format, @args)) == 0);</td></tr>
<tr><td class="h">179</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">180</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-Log-WarnDie-pm--branch.html#L180">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($DISPATCHER) {</td></tr>
<tr><td class="h">181</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local $IN_LOG = 1;</td></tr>
<tr><td class="h">182</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-Log-WarnDie-pm--branch.html#L182">0</a></div></td><td><div class="c0"><a href="blib-lib-Log-WarnDie-pm--condition.html#L182">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DISPATCHER-&gt;error(sprintf($format, @args))</td></tr>
<tr><td class="h">183</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless $LAST and @$LAST == @args and join( &#39;&#39;,@$LAST ) eq join( &#39;&#39;,@args );</td></tr>
<tr><td class="h">184</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;undef $LAST;</td></tr>
<tr><td class="h">185</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">186</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-Log-WarnDie-pm--branch.html#L186">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($STDERR) {</td></tr>
<tr><td class="h">187</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf $STDERR $format, @args;</td></tr>
<tr><td class="h">188</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">189</td><td></td><td></td><td></td><td></td><td></td><td class="s">} #PRINTF</td></tr>
<tr><td class="h">190</td><td colspan="6"></td></tr><tr><td class="h">191</td><td></td><td></td><td></td><td></td><td></td><td class="s">#---------------------------------------------------------------------------</td></tr>
<tr><td class="h">192</td><td></td><td></td><td></td><td></td><td></td><td class="s"># CLOSE</td></tr>
<tr><td class="h">193</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">194</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Called whenever something tries to close STDERR</td></tr>
<tr><td class="h">195</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">196</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;IN: 1 blessed object returned by TIEHANDLE</td></tr>
<tr><td class="h">197</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2..N whatever was needed to be printed</td></tr>
<tr><td class="h">198</td><td colspan="6"></td></tr><tr><td class="h">199</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub CLOSE {</td></tr>
<tr><td class="h">200</td><td colspan="6"></td></tr><tr><td class="h">201</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Lose the object</td></tr>
<tr><td class="h">202</td><td></td><td></td><td></td><td></td><td></td><td class="s"># If there is a dispatcher</td></tr>
<tr><td class="h">203</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;Put it in the log handler if not the same as last time</td></tr>
<tr><td class="h">204</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;Reset the flag</td></tr>
<tr><td class="h">205</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Make sure it appears on the original STDERR as well</td></tr>
<tr><td class="h">206</td><td colspan="6"></td></tr><tr><td class="h">207</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="blib-lib-Log-WarnDie-pm--subroutine.html#L207">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $keep = $STDERR;</td></tr>
<tr><td class="h">208</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$STDERR = undef;</td></tr>
<tr><td class="h">209</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;close $keep;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# So that the return status can be checked</td></tr>
<tr><td class="h">210</td><td></td><td></td><td></td><td></td><td></td><td class="s">} #CLOSE</td></tr>
<tr><td class="h">211</td><td colspan="6"></td></tr><tr><td class="h">212</td><td></td><td></td><td></td><td></td><td></td><td class="s">#---------------------------------------------------------------------------</td></tr>
<tr><td class="h">213</td><td></td><td></td><td></td><td></td><td></td><td class="s"># OPEN</td></tr>
<tr><td class="h">214</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">215</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Called whenever something tries to (re)open STDERR</td></tr>
<tr><td class="h">216</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">217</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;IN: 1 blessed object returned by TIEHANDLE</td></tr>
<tr><td class="h">218</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2..N whatever was needed to be printed</td></tr>
<tr><td class="h">219</td><td colspan="6"></td></tr><tr><td class="h">220</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub OPEN {</td></tr>
<tr><td class="h">221</td><td colspan="6"></td></tr><tr><td class="h">222</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Lose the object</td></tr>
<tr><td class="h">223</td><td></td><td></td><td></td><td></td><td></td><td class="s"># If there is a dispatcher</td></tr>
<tr><td class="h">224</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;Put it in the log handler if not the same as last time</td></tr>
<tr><td class="h">225</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;Reset the flag</td></tr>
<tr><td class="h">226</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Make sure it appears on the original STDERR as well</td></tr>
<tr><td class="h">227</td><td colspan="6"></td></tr><tr><td class="h">228</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="blib-lib-Log-WarnDie-pm--subroutine.html#L228">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shift;</td></tr>
<tr><td class="h">229</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $arg1 = shift;</td></tr>
<tr><td class="h">230</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $arg2 = shift;</td></tr>
<tr><td class="h">231</td><td colspan="6"></td></tr><tr><td class="h">232</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;open($STDERR, $arg1, $arg2);</td></tr>
<tr><td class="h">233</td><td></td><td></td><td></td><td></td><td></td><td class="s">} #OPEN</td></tr>
<tr><td class="h">234</td><td></td><td></td><td></td><td></td><td></td><td class="s">#---------------------------------------------------------------------------</td></tr>
<tr><td class="h">235</td><td></td><td></td><td></td><td></td><td></td><td class="s"># At compile time</td></tr>
<tr><td class="h">236</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;Create new handle</td></tr>
<tr><td class="h">237</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;Make sure it&#39;s the same as the current STDERR</td></tr>
<tr><td class="h">238</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;Make sure the original STDERR is now handled by our sub</td></tr>
<tr><td class="h">239</td><td colspan="6"></td></tr><tr><td class="h">240</td><td></td><td></td><td></td><td></td><td></td><td class="s">BEGIN {</td></tr>
<tr><td class="h">241</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Log-WarnDie-pm--subroutine.html#L241">4</a></div></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$STDERR = IO::Handle-&gt;new();</td></tr>
<tr><td class="h">242</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-Log-WarnDie-pm--branch.html#L242">50</a></div></td><td></td><td></td><td><div>48</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$STDERR-&gt;fdopen(fileno(STDERR), &#39;w&#39;) or die &quot;Could not open STDERR 2nd time: $!\n&quot;;</td></tr>
<tr><td class="h">243</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>107</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;tie *STDERR,__PACKAGE__;</td></tr>
<tr><td class="h">244</td><td colspan="6"></td></tr><tr><td class="h">245</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;Save current __WARN__ setting</td></tr>
<tr><td class="h">246</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;Replace it with a sub that</td></tr>
<tr><td class="h">247</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;If there is a dispatcher</td></tr>
<tr><td class="h">248</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;&nbsp;Remembers the last parameters</td></tr>
<tr><td class="h">249</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;&nbsp;Dispatches a warning message</td></tr>
<tr><td class="h">250</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;Executes the standard system warn() or whatever was there before</td></tr>
<tr><td class="h">251</td><td colspan="6"></td></tr><tr><td class="h">252</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$WARN = $SIG{__WARN__};</td></tr>
<tr><td class="h">253</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$SIG{__WARN__} = sub {</td></tr>
<tr><td class="h">254</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Log-WarnDie-pm--branch.html#L254">100</a></div></td><td></td><td></td><td><div>21</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($FILTER) {</td></tr>
<tr><td class="h">255</td><td><div class="c3">3</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Log-WarnDie-pm--branch.html#L255">100</a></div></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($FILTER-&gt;(@_) == 0) {</td></tr>
<tr><td class="h">256</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# $WARN ? $WARN-&gt;( @_ ) : CORE::warn( @_ );</td></tr>
<tr><td class="h">257</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">258</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">259</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">260</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Avoid &#39;Can&#39;t call method \&quot;log\&quot; on an undefined value&#39; during the destroy phase</td></tr>
<tr><td class="h">261</td><td><div class="c3">3</div></td><td><div class="c0" title="T/-"><a href="blib-lib-Log-WarnDie-pm--branch.html#L261">50</a></div></td><td><div class="c0"><a href="blib-lib-Log-WarnDie-pm--condition.html#L261">33</a></div></td><td></td><td><div>22</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(defined($^V) &amp;&amp; ($^V ge &#39;v5.14.0&#39;)) {</td></tr>
<tr><td class="h">262</td><td><div class="c3">3</div></td><td><div class="c0" title="-/F"><a href="blib-lib-Log-WarnDie-pm--branch.html#L262">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(${^GLOBAL_PHASE} eq &#39;DESTRUCT&#39;) {&nbsp;&nbsp;&nbsp;&nbsp;# &gt;= 5.14.0 only</td></tr>
<tr><td class="h">263</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CORE::warn(@_);</td></tr>
<tr><td class="h">264</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">265</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">266</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">267</td><td><div class="c3">3</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Log-WarnDie-pm--branch.html#L267">100</a></div></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($DISPATCHER) {</td></tr>
<tr><td class="h">268</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$LAST = \@_;</td></tr>
<tr><td class="h">269</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="blib-lib-Log-WarnDie-pm--branch.html#L269">50</a></div></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(ref($DISPATCHER) =~ /^Log::Log4perl/) {</td></tr>
<tr><td class="h">270</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DISPATCHER-&gt;warn( @_ );</td></tr>
<tr><td class="h">271</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">272</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DISPATCHER-&gt;warning( @_ );</td></tr>
<tr><td class="h">273</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">274</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">275</td><td><div class="c3">3</div></td><td><div class="c0" title="-/F"><a href="blib-lib-Log-WarnDie-pm--branch.html#L275">50</a></div></td><td></td><td></td><td><div>84</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$WARN ? $WARN-&gt;( @_ ) : CORE::warn( @_ );</td></tr>
<tr><td class="h">276</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">277</td><td colspan="6"></td></tr><tr><td class="h">278</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;Save current __DIE__ setting</td></tr>
<tr><td class="h">279</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;Replace it with a sub that</td></tr>
<tr><td class="h">280</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;If there is a dispatcher</td></tr>
<tr><td class="h">281</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;&nbsp;Remembers the last parameters</td></tr>
<tr><td class="h">282</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;&nbsp;Dispatches a critical message</td></tr>
<tr><td class="h">283</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;Executes the standard system die() or whatever was there before</td></tr>
<tr><td class="h">284</td><td colspan="6"></td></tr><tr><td class="h">285</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$DIE = $SIG{__DIE__};</td></tr>
<tr><td class="h">286</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$SIG{__DIE__} = sub {</td></tr>
<tr><td class="h">287</td><td><div class="c3">1</div></td><td><div class="c0" title="T/-"><a href="blib-lib-Log-WarnDie-pm--branch.html#L287">50</a></div></td><td></td><td></td><td><div>667</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($DISPATCHER) {</td></tr>
<tr><td class="h">288</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="blib-lib-Log-WarnDie-pm--branch.html#L288">50</a></div></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($FILTER) {</td></tr>
<tr><td class="h">289</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-Log-WarnDie-pm--branch.html#L289">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($FILTER-&gt;(@_) == 0) {</td></tr>
<tr><td class="h">290</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-Log-WarnDie-pm--branch.html#L290">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($DIE) {</td></tr>
<tr><td class="h">291</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# $DIE-&gt;(@_);</td></tr>
<tr><td class="h">292</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DIE-&gt;();</td></tr>
<tr><td class="h">293</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">294</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-Log-WarnDie-pm--branch.html#L294">0</a></div></td><td><div class="c0"><a href="blib-lib-Log-WarnDie-pm--condition.html#L294">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return unless((defined $^S) &amp;&amp; ($^S == 0));&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Ignore errors in eval</td></tr>
<tr><td class="h">295</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# CORE::die(@_);</td></tr>
<tr><td class="h">296</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CORE::die;</td></tr>
<tr><td class="h">297</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">298</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">299</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">300</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$LAST = \@_;</td></tr>
<tr><td class="h">301</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="blib-lib-Log-WarnDie-pm--branch.html#L301">50</a></div></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(ref($DISPATCHER) =~ /^Log::Log4perl/) {</td></tr>
<tr><td class="h">302</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DISPATCHER-&gt;fatal( @_ );</td></tr>
<tr><td class="h">303</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">304</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DISPATCHER-&gt;critical( @_ );</td></tr>
<tr><td class="h">305</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">306</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">307</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle http://stackoverflow.com/questions/8078220/custom-error-handling-is-catching-errors-that-normally-are-not-displayed</td></tr>
<tr><td class="h">308</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# $DIE ? $DIE-&gt;( @_ ) : CORE::die( @_ );</td></tr>
<tr><td class="h">309</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="blib-lib-Log-WarnDie-pm--branch.html#L309">50</a></div></td><td></td><td></td><td><div>53</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($DIE) {</td></tr>
<tr><td class="h">310</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DIE-&gt;(@_);</td></tr>
<tr><td class="h">311</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">312</td><td><div class="c3">1</div></td><td><div class="c0" title="T/-"><a href="blib-lib-Log-WarnDie-pm--branch.html#L312">50</a></div></td><td><div class="c0"><a href="blib-lib-Log-WarnDie-pm--condition.html#L312">33</a></div></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return unless((defined $^S) &amp;&amp; ($^S == 0));&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Ignore errors in eval</td></tr>
<tr><td class="h">313</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CORE::die(@_);</td></tr>
<tr><td class="h">314</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">315</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">316</td><td colspan="6"></td></tr><tr><td class="h">317</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;Make sure we won&#39;t be listed ourselves by Carp::</td></tr>
<tr><td class="h">318</td><td colspan="6"></td></tr><tr><td class="h">319</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>457</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$Carp::Internal{__PACKAGE__} = 1;</td></tr>
<tr><td class="h">320</td><td></td><td></td><td></td><td></td><td></td><td class="s">} #BEGIN</td></tr>
<tr><td class="h">321</td><td colspan="6"></td></tr><tr><td class="h">322</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Satisfy require</td></tr>
<tr><td class="h">323</td><td colspan="6"></td></tr><tr><td class="h">324</td><td></td><td></td><td></td><td></td><td></td><td class="s">#---------------------------------------------------------------------------</td></tr>
<tr><td class="h">325</td><td colspan="6"></td></tr><tr><td class="h">326</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Class methods</td></tr>
<tr><td class="h">327</td><td colspan="6"></td></tr><tr><td class="h">328</td><td></td><td></td><td></td><td></td><td></td><td class="s">#---------------------------------------------------------------------------</td></tr>
<tr><td class="h">329</td><td colspan="6"></td></tr><tr><td class="h">330 - 338</td><td colspan="5"></td><td class="s"><pre>=head2 dispatcher

Class method to set and/or return the current dispatcher

# IN: 1 class (ignored)
#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 new dispatcher (optional)
# OUT: 1 current dispatcher

=cut</pre></td></tr>
<tr><td class="h">339</td><td colspan="6"></td></tr><tr><td class="h">340</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub dispatcher</td></tr>
<tr><td class="h">341</td><td></td><td></td><td></td><td></td><td></td><td class="s">{</td></tr>
<tr><td class="h">342</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Return the current dispatcher if no changes needed</td></tr>
<tr><td class="h">343</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Set the new dispatcher</td></tr>
<tr><td class="h">344</td><td colspan="6"></td></tr><tr><td class="h">345</td><td><div class="c3">7</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Log-WarnDie-pm--branch.html#L345">100</a></div></td><td></td><td><div class="c3"><a href="blib-lib-Log-WarnDie-pm--subroutine.html#L345">7</a></div></td><td><div>173971</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $DISPATCHER if(scalar(@_) &lt;= 1);</td></tr>
<tr><td class="h">346</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DISPATCHER = $_[1];</td></tr>
<tr><td class="h">347</td><td colspan="6"></td></tr><tr><td class="h">348</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# If there is a dispatcher now</td></tr>
<tr><td class="h">349</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;If the dispatcher is a Log::Dispatch er</td></tr>
<tr><td class="h">350</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;Make sure all of standard Log::Dispatch stuff becomes invisible for Carp::</td></tr>
<tr><td class="h">351</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;If there are outputs already</td></tr>
<tr><td class="h">352</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;&nbsp;Make sure all of the output objects become invisible for Carp::</td></tr>
<tr><td class="h">353</td><td colspan="6"></td></tr><tr><td class="h">354</td><td><div class="c3">3</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Log-WarnDie-pm--branch.html#L354">100</a></div></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($DISPATCHER) {</td></tr>
<tr><td class="h">355</td><td><div class="c3">2</div></td><td><div class="c0" title="T/-"><a href="blib-lib-Log-WarnDie-pm--branch.html#L355">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($DISPATCHER-&gt;isa( &#39;Log::Dispatch&#39;)) {</td></tr>
<tr><td class="h">356</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$Carp::Internal{$_} = 1</td></tr>
<tr><td class="h">357</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach &#39;Log::Dispatch&#39;,&#39;Log::Dispatch::Output&#39;;</td></tr>
<tr><td class="h">358</td><td><div class="c3">2</div></td><td><div class="c0" title="T/-"><a href="blib-lib-Log-WarnDie-pm--branch.html#L358">50</a></div></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(my $outputs = $DISPATCHER-&gt;{&#39;outputs&#39;}) {</td></tr>
<tr><td class="h">359</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$Carp::Internal{$_} = 1</td></tr>
<tr><td class="h">360</td><td><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div></td><td></td><td></td><td></td><td><div>3</div><div>7</div><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach map {blessed $_} values %{$outputs};</td></tr>
<tr><td class="h">361</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">362</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">363</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">364</td><td colspan="6"></td></tr><tr><td class="h">365</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Return the current dispatcher</td></tr>
<tr><td class="h">366</td><td colspan="6"></td></tr><tr><td class="h">367</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $DISPATCHER;</td></tr>
<tr><td class="h">368</td><td></td><td></td><td></td><td></td><td></td><td class="s">} #dispatcher</td></tr>
<tr><td class="h">369</td><td colspan="6"></td></tr><tr><td class="h">370 - 378</td><td colspan="5"></td><td class="s"><pre>=head2 filter

Class method to set and/or get the current output filter

The given callback function should return 1 to output the given message, or 0
to drop it.
Useful for noisy messages such as File::stat giving S_IFFIFO is not a valid Fcntl macro.

=cut</pre></td></tr>
<tr><td class="h">379</td><td colspan="6"></td></tr><tr><td class="h">380</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub filter {</td></tr>
<tr><td class="h">381</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="blib-lib-Log-WarnDie-pm--branch.html#L381">50</a></div></td><td></td><td><div class="c3"><a href="blib-lib-Log-WarnDie-pm--subroutine.html#L381">1</a></div></td><td><div>486</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $FILTER if(scalar(@_) &lt;= 1);</td></tr>
<tr><td class="h">382</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$FILTER = $_[1];</td></tr>
<tr><td class="h">383</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">384</td><td colspan="6"></td></tr><tr><td class="h">385</td><td></td><td></td><td></td><td></td><td></td><td class="s">#---------------------------------------------------------------------------</td></tr>
<tr><td class="h">386</td><td colspan="6"></td></tr><tr><td class="h">387</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Perl standard features</td></tr>
<tr><td class="h">388</td><td colspan="6"></td></tr><tr><td class="h">389</td><td></td><td></td><td></td><td></td><td></td><td class="s">#---------------------------------------------------------------------------</td></tr>
<tr><td class="h">390</td><td></td><td></td><td></td><td></td><td></td><td class="s"># import</td></tr>
<tr><td class="h">391</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">392</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Called whenever a -use- is done.</td></tr>
<tr><td class="h">393</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">394</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;IN: 1 class (ignored)</td></tr>
<tr><td class="h">395</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 new dispatcher (optional)</td></tr>
<tr><td class="h">396</td><td colspan="6"></td></tr><tr><td class="h">397</td><td></td><td></td><td></td><td></td><td></td><td class="s">*import = \&amp;dispatcher;</td></tr>
<tr><td class="h">398</td><td colspan="6"></td></tr><tr><td class="h">399</td><td></td><td></td><td></td><td></td><td></td><td class="s">#---------------------------------------------------------------------------</td></tr>
<tr><td class="h">400</td><td></td><td></td><td></td><td></td><td></td><td class="s"># unimport</td></tr>
<tr><td class="h">401</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">402</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Called whenever a -use- is done.</td></tr>
<tr><td class="h">403</td><td></td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h">404</td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;IN: 1 class (ignored)</td></tr>
<tr><td class="h">405</td><td colspan="6"></td></tr><tr><td class="h">406</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="blib-lib-Log-WarnDie-pm--subroutine.html#L406">0</a></div></td><td></td><td class="s">sub unimport { import( undef ) } #unimport</td></tr>
<tr><td class="h">407</td><td colspan="6"></td></tr><tr><td class="h">408</td><td></td><td></td><td></td><td></td><td></td><td class="s">#---------------------------------------------------------------------------</td></tr>
<tr><td class="h">409</td><td colspan="6"></td></tr><tr><td class="h">410 - 477</td><td colspan="5"></td><td class="s"><pre>=head1 AUTHOR

Elizabeth Mattijsen, &lt;liz@dijkmat.nl&gt;

Maintained by Nigel Horne, C&lt;&lt; &lt;njh at nigelhorne.com&gt; &gt;&gt;

=head1 BUGS

This module is provided as-is without any warranty.

Please report any bugs or feature requests to C&lt;bug-log-warndie at rt.cpan.org&gt;,
or through the web interface at
L&lt;http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Log-WarnDie&gt;.
I will be notified, and then you&#39;ll
automatically be notified of progress on your bug as I make changes.

=head1 CAVEATS

The following caveats may apply to your situation.

=head2 Associated modules

Although a module such as L&lt;Log::Dispatch&gt; is B&lt;not&gt; listed as a prerequisite,
the real use of this module only comes into view when such a module B&lt;is&gt;
installed.
Please note that for testing this module, you will need the
L&lt;Log::Dispatch::Buffer&gt; module to also be available.

This module has been tested with
L&lt;Log::Dispatch&gt;, L&lt;Log::Any&gt; and L&lt;Log::Log4perl&gt;.
In principle,
any object which recognises C&lt;warning&gt;, C&lt;error&gt; and C&lt;critical&gt; should work.

=head2 eval

In the current implementation of Perl, a __DIE__ handler is B&lt;also&gt; called
inside an eval.
Whereas a normal C&lt;die&gt; would just exit the eval, the __DIE__
handler _will_ get called inside the eval.
Which may or may not be what you want.
To prevent the __DIE__ handler from being called inside eval&#39;s, add the
following line to the eval block or string being evaluated:

&nbsp;&nbsp;&nbsp;&nbsp;local $SIG{__DIE__} = undef;

This disables the __DIE__ handler within the evalled block or string, and
will automatically enable it again upon exit of the evalled block or string.
Unfortunately,
there is no automatic way to do that for you.

=head1 SEE ALSO

=over 4

=item * Test coverage report: L&lt;https://nigelhorne.github.io/Log-WarnDie/coverage/&gt;

=back

=head1 COPYRIGHT

Copyright (c) 2004, 2007 Elizabeth Mattijsen &lt;liz@dijkmat.nl&gt;. All rights
reserved.
This program is free software; you can redistribute it and/or
modify it under the same terms as Perl itself.

Portions of versions 0.06 onwards, Copyright 2017-2024 Nigel Horne

=cut</pre></td></tr>
<tr><td class="h">478</td><td colspan="6"></td></tr><tr><td class="h">479</td><td></td><td></td><td></td><td></td><td></td><td class="s">1;</td></tr>
</table>
</body>
</html>
